{% extends 'base.html.twig' %}

{% block body %}

{{ parent() }}

<div class="carousel-container">
    <div class="carousel">
        <div class="slide" id="slide1">
            <p>Bienvenue sur dantec market</p>
        </div>
        <div class="slide" id="slide2">
            <p>Ma pizza va être super bonne</p>
        </div>
        <div class="slide" id="slide3">
            <p>Frédéric fait de belle maquette register</p> 
        </div>
    </div>
</div>

<div class="carousel-pagination" id="pagination"></div>


 <div class="section2">
        <div class="swiper mySwiper">
            <div class="swiper-wrapper">
                <!-- Swiper Slides -->
                {% for i in 1..8 %}
                    <div class="swiper-slide">
                        <a href="{{ path('app_test') }}">
                            <img src="/images/{{ i }}.jpg" alt="">
                        </a>
                    </div>
                {% endfor %}
            </div>
        </div>
</div>

<div class="card-container">
    <div class="card1" id="application">
        <button>Télécharger</button>
        <p>Téléchargez l’application Dantec Market</p>
    </div>
    <div class="card1" id="produits">
        <button>Commander</button>
        <p>Commandez nos meilleurs produits</p>
    </div>
    <div class="card1" id="actualité">
        <button>Découvrir</button>
        <p>Découvrez  l’actualité sur le magasin</p>
    </div>
</div>

<div class="card-container">
    <div class="card2" id="catalogue">
        <button>Découvrir</button>
        <p>Découvrez les nouveautés de ce mois</p>
    </div>
    <div class="card2" id="partenaires">
        <button>Découvrir</button>
        <p>Découvrez  nos partenaires</p>
    </div>
</div>

<div class="avis-container">
    <div class="card-avis">
        <div class="etoiles" data-rating="5">
            <p id="1">★</p>
            <p id="2">★</p>
            <p id="3">★</p>
            <p id="4">★</p>
            <p id="5">★</p>
        </div>
        <div class="titre">Titre de l'avis 1</div>
        <div class="avis">C'est un avis fantastique. Lorem ipsum dolor sit amet, consectetur adipiscing elit.</div>
        <div class="date">2024-01-01</div>
    </div>
    <div class="card-avis">
        <div class="etoiles" data-rating="4">
            <p id="1">★</p>
            <p id="2">★</p>
            <p id="3">★</p>
            <p id="4">★</p>
            <p id="5">★</p>
        </div>
        <div class="titre">Titre de l'avis 2</div>
        <div class="avis">Un autre avis intéressant. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur.</div>
        <div class="date">2024-01-05</div>
    </div>
    <div class="card-avis">
        <div class="etoiles" data-rating="3">
            <p id="1">★</p>
            <p id="2">★</p>
            <p id="3">★</p>
            <p id="4">★</p>
            <p id="5">★</p>
        </div>
        <div class="titre">Titre de l'avis 3</div>
        <div class="avis">Un avis moyen. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</div>
        <div class="date">2024-01-10</div>
    </div>
</div>

{% block footer %}
    {{ parent() }}
{% endblock %}

<script>
        document.addEventListener("DOMContentLoaded", function () {
            let currentIndex = 0;
            const totalSlides = document.querySelectorAll(".slide").length;
            const paginationContainer = document.getElementById("pagination");

            function updateCarousel() {
                const carousel = document.querySelector(".carousel");
                const slideWidth = document.querySelector(".slide").clientWidth;
                carousel.style.transform = `translateX(${-currentIndex * slideWidth}px)`;

                // Met à jour l'état actif du bouton de pagination
                const paginationButtons = document.querySelectorAll(".pagination-button");
                paginationButtons.forEach((button, index) => {
                    button.classList.toggle("active", index === currentIndex);
                });
            }

            function nextSlide() {
                currentIndex = (currentIndex + 1) % totalSlides;
                updateCarousel();
            }

            function prevSlide() {
                currentIndex = (currentIndex - 1 + totalSlides) % totalSlides;
                updateCarousel();
            }

            // Crée les boutons de pagination
            for (let i = 0; i < totalSlides; i++) {
                const button = document.createElement("button");
                button.className = "pagination-button";
                button.addEventListener("click", () => {
                    currentIndex = i;
                    updateCarousel();
                });
                paginationContainer.appendChild(button);
            }

            updateCarousel(); // Initialise l'état initial du carrousel

            setInterval(nextSlide, 8000); // Change de diapositive toutes les 8 secondes
        });
</script>


 <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>


<script>
 var swiper = new Swiper(".mySwiper", {
      effect: "coverflow",
      grabCursor: true,
      centeredSlides: true,
      slidesPerView: "auto",
      coverflowEffect: {
        rotate: 15,
        stretch: 0,
        depth: 300,
        modifier: 1,
        slideShadows: true,
      },
      loop: true,
    });
</script>

{% endblock %}
